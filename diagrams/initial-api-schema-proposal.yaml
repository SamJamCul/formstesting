openapi: 3.0.2
info:
  title: API Title
  version: '1.0'
servers:
  - url: https://api.server.test/v1
paths: {}
components:
  schemas:
    form:
      type: object
      properties:
        id:
          type: integer
          description: The ID of the form (Autogenerated)
        version:
          type: integer
          description: The version of the form
        name:
          description: The name of the form
          allOf:
            - $ref: '#/components/schemas/translatableText'
        submissionEmail:
          type: string
          format: email
          description: The email address the form is submitted to
        checkYourAnswersPage:
          type: object
          description: The configuration for the check your answers page
          properties:
            title:
              description: The title of the page
              allOf:
                - $ref: '#/components/schemas/translatableText'
            declaration:
              description: The declaration that people make when they submit the form 
              allOf:
                - $ref: '#/components/schemas/translatableText'
        confirmationPage:
          type: object
          description: The configuration for the check your answers page
          properties:
            title:
              description: The title of the page
              allOf:
                - $ref: '#/components/schemas/translatableText'
            whatHappensNext:
              description: A description of what happens next and what the user needs to do
              allOf:
                - $ref: '#/components/schemas/translatableText'
        pages:
          type: array
          items:
            $ref: '#/components/schemas/page'
    page:
      type: object
      properties:
        position:
          type: integer
          description: The position of the page in the order - Branching issues?
        questionText:
          description: The text of the question
          allOf:
            - $ref: '#/components/schemas/translatableText'
        questionShortName:
          description: The short name for the question
          allOf:
            - $ref: '#/components/schemas/translatableText'
        hintText:
          description: The hint text for the question
          allOf:
            - $ref: '#/components/schemas/translatableText'
        questionType:
          description: The type of question being asked
          allOf:
            - $ref: '#/components/schemas/questionTypes'
    translatableText:
      type: object
      properties:
        en:
          type: string
          description: The text in english
        cy:
          type: string
          description: The text in welsh
    questionTypes:
      type: string
      enum:
        - singleLine
        - address
        - date
        - emailAddress
        - nationalInsuranceNumber
        - phoneNumber
